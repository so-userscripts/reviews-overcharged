!function s(i,n,o){function a(t,e){if(!n[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=n[t]={exports:{}},i[t][0].call(r.exports,function(e){return a(i[t][1][e]||e)},r,r.exports,s,i,n,o)}return n[t].exports}for(var c="function"==typeof require&&require,e=0;e<o.length;e++)a(o[e]);return a}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSuggestionsUserStats=r.getSuggestionsByPost=void 0;const o=e("./config"),a=e("./utils");r.getSuggestionsByPost=async(e,{site:t=o.DEF_SITE,type:r="all"})=>{const s=new URL(`${o.API_BASE}/${o.API_VER}/posts/${e}/suggested-edits`);s.search=new URLSearchParams({site:t}).toString();const i=await fetch(s.toString());if(!i.ok)return[];const{items:n}=await i.json();r={approved:({approval_date:e})=>!!e,rejected:({rejection_date:e})=>!!e,pending:({approval_date:e,rejection_date:t})=>!e&&!t}[r];return r?n.filter(r):n};r.getSuggestionsUserStats=async(e,t={})=>{const r=new URL(`${o.API_BASE}/${o.API_VER}/users/${e}/suggested-edits`),s={site:t.site||o.DEF_SITE};Object.keys(t).length&&({from:t,to:n=new Date}=t,t&&(s.from=a.toApiDate(t)),n&&(s.to=a.toApiDate(n))),r.search=new URLSearchParams(s).toString();const i=await fetch(r.toString());if(!i.ok)return[];var{items:n}=await i.json();return n}},{"./config":3,"./utils":12}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addAuditNotification=void 0;const o=e("./api");r.addAuditNotification=async({selectors:{content:e}},t)=>{var r="audit_notification";if(document.getElementById(r))return!0;var{length:t}=await o.getSuggestionsByPost(t,{type:"pending"});if(t)return!0;const s=document.querySelector(e.typeHint),i=document.querySelector(e.postSummary);if(!s)return!1;const n=document.createElement("blockquote");return n.id=r,n.classList.add("mb12","fs-headline1"),n.textContent="This is an Audit. Tread carefully",s.after(n),s.remove(),null!==i&&void 0!==i&&i.remove(),!0}},{"./api":1}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.config=r.API_VER=r.DEF_SITE=r.API_BASE=void 0;const s=e("./utils");r.API_BASE="https://api.stackexchange.com",r.DEF_SITE="stackoverflow",r.API_VER=2.2,r.config={page:{suggestionId:s.last(location.pathname.split("/"))},classes:{grid:{container:"grid",cell:"grid--cell"}},selectors:{actions:{sidebar:".js-actions-sidebar",modal:{form:"form[action='/suggested-edits/reject']",votes:{labels:"label[for^=rejection-reason].s-label",counts:".s-badge__votes"}},inputs:{reject:"#review-action-Reject"}},buttons:{submit:".js-review-submit",skip:".js-review-actions:not(.d-none) .js-action-button[value=1]",close:".s-modal--close"},reviews:{done:".js-reviews-done",daily:".js-reviews-per-day"},diffs:{deleted:".full-diff .deleted > div",added:".full-diff .inserted > div"},page:{links:{question:"a[href*='/questions/']",answer:"a.answer-hyperlink"}},content:{typeHint:".js-review-content h2",postSummary:".s-post-summary"},title:{description:".s-page-title--description",actions:".s-page-title--actions a",learnMore:".js-show-modal-from-nav.s-link",title:".s-page-title--text",header:".s-page-title--header"},info:{post:{wrapper:".postcell span"},editor:{card:"a.s-user-card--link"}}}}},{"./utils":12}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decolorDiff=void 0;r.decolorDiff=e=>{var{added:t,deleted:e}=e.selectors.diffs;const r=document.querySelector(t),s=document.querySelector(e);return!(!r||!s)&&(r.style.backgroundColor="unset",s.style.backgroundColor="unset",!0)}},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createItem=r.createGridCell=void 0;const s=e("./config");r.createGridCell=()=>{const e=document.createElement("div");return e.classList.add(s.config.classes.grid.cell),e};r.createItem=(...e)=>{const t=document.createElement("div");return t.classList.add(s.config.classes.grid.cell,"p12"),t.append(...e),t}},{"./config":3}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.goParentUp=r.arraySelect=void 0;r.arraySelect=(e,t)=>Array.from(e.querySelectorAll(t));r.goParentUp=(e,t=1)=>0!==t&&e?r.goParentUp(e.parentElement,t-1):e},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSuggestionTotals=r.getEditAuthorId=r.getPostId=r.getQuestionId=r.getAnswerId=void 0;const i=e("./config"),n=e("./utils");r.getAnswerId=e=>{e=document.querySelector(e);return n.safeMatch((null==e?void 0:e.href)||"",/\/questions\/\d+\/[\w-]+\/(\d+)/,"")[0]};r.getQuestionId=e=>{e=document.querySelector(e);return n.safeMatch((null==e?void 0:e.href)||"",/\/questions\/(\d+)/,"")[0]};r.getPostId=({selectors:{page:{links:e}}})=>r.getAnswerId(e.answer)||r.getQuestionId(e.question);r.getEditAuthorId=()=>{var e=i.config.selectors.info.post.wrapper,t=document.querySelectorAll(e);if(!t.length)return n.handleMatchFailure(e,null);e=Array.from(t).find(({textContent:e})=>/proposed/i.test(e||""));if(!e)return null;t=i.config.selectors.info.editor.card;const{parentElement:r}=e;e=r.querySelector(t);if(!e)return n.handleMatchFailure(t,null);const{href:s}=e;var[,e]=s.match(/users\/(\d+)/)||[];return e||null};r.getSuggestionTotals=e=>{const r={get ratio(){var{approved:e,rejected:t,total:r}=this;return{ofApproved:e/r,ofRejected:t/r,approvedToRejected:e/(0===t?1:t)}},approved:0,rejected:0,total:0};return e.forEach(({approval_date:e,rejection_date:t})=>{r.total+=1,e&&(r.approved+=1),t&&(r.rejected+=1)}),r}},{"./config":3,"./utils":12}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.testGraph=r.LineGraph=r.GraphGrid=r.GraphAxis=r.Serie=r.GraphLine=r.Point=void 0;const g="http://www.w3.org/2000/svg";class a{constructor(e,t,r=1){this.x=e,this.y=t,this.size=r,this.colour="black",this.type="circle"}get middle(){var{size:e}=this;return e/2}move(e,t){this.x+=e,this.y+=t,this.sync()}create(){const{colour:e,type:t}=this,r={circle:()=>document.createElementNS(g,t),rectangle:()=>document.createElementNS(g,"rect")};var s=r[t]();const{style:i}=s;return i.fill=e,this.element=s,this.sync(),s}draw(){var{element:e=this.create()}=this;return e}sync(){const{element:e,x:t,y:r,middle:s,size:i,type:n}=this;if(e){const o={circle:()=>(e.setAttribute("cx",t.toString()),e.setAttribute("cy",r.toString()),e.setAttribute("r",s.toString()),e),rectangle:()=>(e.setAttribute("x",(t-s).toString()),e.setAttribute("y",(r-s).toString()),e.setAttribute("width",i.toString()),e.setAttribute("height",i.toString()),e)};return o[n]()}}}r.Point=a;class c{constructor(e,t,r=1){this.start=e,this.end=t,this.stroke=r,this.colour="black",this.type="straight"}create(){const{colour:e,stroke:t}=this;var r=document.createElementNS(g,"line");const{style:s}=r;return s.strokeWidth=t.toString(),s.stroke=e,this.element=r,this.sync(),r}draw(){var{element:e=this.create()}=this;return e}resize(){const{start:e,end:t}=this;e.sync(),t.sync(),this.sync()}sync(){const{start:{x:e,y:t},end:{x:r,y:s},element:i}=this;i&&(i.setAttribute("x1",e.toString()),i.setAttribute("y1",t.toString()),i.setAttribute("x2",r.toString()),i.setAttribute("y2",s.toString()))}}r.GraphLine=c;class s{constructor(){this.items=[]}push(e){const{items:t}=this;return t.push(...e()),t}pop(e){const{items:t}=this;return t.splice(t.length-e,e)}}class i extends s{constructor({curved:e=!1,size:t,colour:r}){super(),this.colour="black",this.size=1,this.lines=[],this.curved=e,t&&(this.size=t),r&&(this.colour=r)}pushPoints(...e){const{colour:o}=this;return this.push(()=>e.map(({x:e,y:t,size:r=1,colour:s,type:i})=>{const n=new a(e,t,r);return n.colour=s||o,i&&(n.type=i),n}))}create(){const{items:s,size:i=1,colour:n,curved:o}=this,a=o?"curved":"straight";var e=s.map((e,t)=>{t=s[t+1];const r=new c(e,t||e,i);return n&&(r.colour=n),o&&(r.type,a),r});return this.lines=e}draw(){const{items:e}=this,t=this.create();var r=e.map(e=>e.draw());return[...t.map(e=>e.draw()),...r]}resize(e){const{lines:t,size:r,items:s}=this,i=e/r;s.forEach(e=>{e.x*=i,e.y*=i}),t.forEach(e=>e.resize()),this.size=e}}r.Serie=i;class l{constructor({makeX:e=!0,makeY:t=!0,size:r=1,colour:s="black"}){this.makeX=!0,this.makeY=!0,this.size=1,this.colour="black",this.makeX=e,this.makeY=t,this.size=r,this.colour=s}get numXmarks(){var{graph:e,makeX:t,size:r}=this;if(!e||!t)return 0;var{width:e}=e;return Math.ceil(e/r)-2}get numYmarks(){var{graph:e,makeX:t,size:r}=this;if(!e||!t)return 0;var{height:e}=e;return Math.ceil(e/r)-2}createPointer(e,t,r="auto"){var{colour:s}=this;const i=document.createElementNS(g,"marker");i.setAttribute("refX",e.toString()),i.setAttribute("refY",t.toString()),i.setAttribute("orient",r.toString());const{style:n}=i;return n.color=s,i}createMark(){}createMarks(e){var{graph:t,numXmarks:r,numYmarks:s}=this;if(t){for(let e=1;e<=r;e++);for(let e=1;e<=s;e++);}}createAxis(e,t,r,s){const i=document.createElementNS(g,"line");return i.setAttribute("x1",e.toString()),i.setAttribute("x2",r.toString()),i.setAttribute("y1",t.toString()),i.setAttribute("y2",s.toString()),i}create(){var{makeX:e,makeY:t,size:r,graph:s,element:i,colour:n}=this;this.createMarks(r);const o=i||document.createElementNS(g,"g"),{style:a}=o;if(a.stroke=n,!s)return o;var{width:n,height:s}=s;return e&&o.append(this.createAxis(0,s,n,s)),t&&o.append(this.createAxis(0,s,n,0)),o}draw(){var{element:e=this.create()}=this;return this.element=e}sync(){}}r.GraphAxis=l;class u{constructor(e,t,r=1){this.width=e,this.height=t,this.size=r,this.horizontal=!0,this.vertical=!0,this.colour="black",this.xLines=[],this.yLines=[]}get numXcells(){var{size:e,width:t}=this;return Math.ceil(t/e)}get numYcells(){var{size:e,height:t}=this;return Math.ceil(t/e)}createLines({type:e,size:t,colour:r,lines:s,end:i,start:n=0}){const o=document.createElementNS(g,"line"),{style:a}=o;a.stroke=r;var e="horizontal"===e,c=e?"x1":"y1",l=e?"y1":"x1",u=e?"x2":"y2",d=e?"y2":"x2";const h=[];for(let e=0;e<s;e++){var m=(t*e).toString();const p=o.cloneNode();p.setAttribute(c,m),p.setAttribute(u,m),p.setAttribute(l,n.toString()),p.setAttribute(d,i.toString()),h.push(p)}return h}create(){const{colour:e,numXcells:t,numYcells:r,size:s,graph:i,xLines:n,yLines:o,horizontal:a,vertical:c}=this;var l,u,d;i&&({height:l,width:u}=i,d={colour:e,size:s},a&&n.push(...this.createLines({...d,type:"horizontal",end:l,lines:t})),c&&o.push(...this.createLines({...d,type:"vertical",end:u,lines:r})))}draw(){var{xLines:e,yLines:t,graph:r}=this;if(r&&r.element){e.length||t.length||this.create();const{element:s}=r;s.prepend(...e,...t)}}sync(){const{xLines:e,yLines:t}=this;return e.forEach(e=>e.remove()),t.forEach(e=>e.remove()),e.length=0,t.length=0,this.draw()}}r.GraphGrid=u;class n extends s{constructor({id:e,width:t,height:r,size:s=1,axisColour:i="black",gridColour:n="lightgrey",gridSize:o=2}){super(),this.id=e,this.size=s,this.width=t,this.height=r;const a=new u(t,r,o);a.colour=n,(a.graph=this).grid=a,this.axis=new l({size:s,colour:i})}pushSeries(...e){const{size:s}=this;return this.push(()=>e.map(({points:e=[],...t})=>{const r=new i({size:s,...t});return r.pushPoints(...e),r.graph=this,r}))}clean(){var e,{element:t}=this;if(t)for(;t.firstChild;)null!==(e=t.lastChild)&&void 0!==e&&e.remove()}create(){const{width:e,height:t,id:r}=this,s=document.createElementNS(g,"svg");return s.setAttribute("width",e.toString()),s.setAttribute("height",t.toString()),s.setAttribute("id",r),this.element=s}draw(){const{grid:e,axis:t,items:r,element:s=this.create()}=this;this.clean();var i=t.draw();s.append(i),e.draw();i=r.flatMap(e=>e.draw());return s.append(...i),s}resize(t){const{items:e}=this;e.forEach(e=>e.resize(t)),this.size=t}sync(){const{grid:e}=this;e.sync()}}r.LineGraph=n;r.testGraph=()=>{const e=()=>Math.floor(255*Math.random()),r=()=>`rgb(${e()}, ${e()}, ${e()})`,t=new n({id:"grid_test",height:400,width:400,gridColour:r(),gridSize:4});var s=()=>{const t=[];for(let e=0;e<50;e+=2)t.push({x:2*e,y:Math.floor(75*Math.random()),size:4,colour:r(),type:.5<Math.random()?"circle":"rectangle"});return{points:t,colour:r(),curved:.5<Math.random()}};t.pushSeries(s(),s(),s());s=t.draw();document.body.append(s),t.element.style.position="absolute",t.element.style.left="45px",t.element.style.top="45px",t.element.style.backgroundColor="white";let i=0;setInterval(()=>{t.resize(i?1:4),i=~i;const{grid:e}=t;e.colour=r(),e.size=16*Math.random()+4,e.horizontal=.5<Math.random(),e.vertical=.5<Math.random(),t.sync()},4e3),window.GRAPH=t}},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const l=e("./api"),s=e("./audits"),a=e("./config"),i=e("./diffs"),u=e("./dom"),d=e("./domUtils"),h=e("./getters"),n=e("./graphs"),m=e("./templaters"),p=e("./users"),g=e("./utils");n.testGraph(),(async()=>{const c=e=>{var{selectors:{actions:{modal:t}}}=e,e=(e=>{var{selectors:{buttons:t,actions:{inputs:r,modal:e}}}=e;const s=document.querySelector(r.reject),i=document.querySelector(t.submit);if(!s||!i)return null;s.click(),i.click();const n=document.querySelector(e.form);if(!n)return null;e=n.cloneNode(!0);const o=n.querySelector(t.close);return o.click(),e})(e);if(!e)return g.handleMatchFailure(t.form,null);const r=d.arraySelect(e,t.votes.labels),s={spam:0,improvement:0,intent:0,reply:0,harm:0},i={102:"improvement",101:"spam",104:"intent",105:"reply",0:"harm"},n=t.votes.counts;return r.forEach(e=>{const{htmlFor:t}=e;var[,r]=t.match(/(\d+$)/)||[],r=i[r];e.querySelector(n)&&(s[r]+=1)}),s};const r=h.getPostId(a.config);if(r){var e={moveProgressToTabs:({selectors:e})=>{const t=Array.from(document.querySelectorAll(a.config.selectors.title.actions)),r=t.find(({href:e})=>/\/review\/suggested-edits/.test(e));var s=document.querySelector(e.reviews.daily),i=document.querySelector(e.reviews.done);if(!s||!i)return!1;var n=g.trimNumericString(s.textContent||"0"),e=g.trimNumericString(i.textContent||"0"),i=+e/+n,i=g.toPercent(i);if(!r)return!1;const{style:o}=r;return o.background=`linear-gradient(90deg, var(--theme-primary-color) ${i}, var(--black-075) ${i})`,o.color="var(--black-600)",r.textContent+=` (${e}/${n})`,(e=>{const t=d.goParentUp(e,3);return!!t&&(t.remove(),!0)})(s)},optimizePageTitle:e=>{var t=e.selectors.title.title;const r=document.querySelector(t);if(!r)return g.handleMatchFailure(t,!1);r.classList.add(e.classes.grid.container);t=document.querySelector(e.selectors.title.header);const s=u.createGridCell();s.classList.add("ml12"),t&&s.append(t);t=r.querySelector(e.selectors.title.learnMore);const i=s.cloneNode();return t&&i.append(t),e=e,(r||document).querySelectorAll(e.selectors.title.description).forEach(e=>e.remove()),r.append(s,i),!0},decolorDiff:i.decolorDiff,addAuditNotification:s.addAuditNotification},e=Object.entries(e).map(([e,t])=>[e,t(a.config,r)]);const t=await Promise.all(e);e=t.reduce((e,[t,r])=>`${e}\n${t} - ${r?"ok":"failed"}`,"Status: ");console.debug(e),await(async e=>{const t=document.querySelector(e.selectors.actions.sidebar);if(!t)return!1;const r=document.createElement("div");r.classList.add("s-sidebarwidget","ml24","mt24");const s=document.createElement("div");s.classList.add("s-sidebarwidget--header"),s.textContent="Extra Info";const i=document.createElement("div");i.classList.add(e.classes.grid.container,"fd-column");var n=h.getEditAuthorId();if(!n)return!1;var[o,n]=await Promise.all([p.getUserInfo(n),l.getSuggestionsUserStats(n)]),e=c(e);if(!o||!e)return!1;const a=[];return a.push((({display_name:e,reputation:t,link:r})=>{const s=m.p("Name: ");return s.append(m.a(r,e)),u.createItem(m.ul({header:"Edit Author",items:[s,`Reputation: ${t}`]}))})(o),(({link:e},t)=>{var{approved:r,rejected:s,total:i,ratio:{approvedToRejected:n,ofApproved:o,ofRejected:t}}=h.getSuggestionTotals(t);const a={header:"Author Stats",items:[]};if(i)return a.items.push(`Approved: ${r} (${g.toPercent(o)})`,`Rejected: ${s} (${g.toPercent(t)})`,`Of total: ${i}`,`Ratio: ${n}`),u.createItem(m.ul(a));{const c=m.p("Tag wiki/excerpt edits are not returned.");return c.append(m.br(),m.text("See their "),m.a(`${e}?tab=activity`,"activity tab")),a.items.push(c),u.createItem(m.ul(a))}})(o,n),(e=>{const t=Object.entries(e).filter(([,e])=>!!e),r=t.map(([e,t])=>`${g.scase(e)}: ${t}`);return r.length||r.push("No reject votes"),u.createItem(m.ul({items:r,header:"Reject votes"}))})(e)),i.append(...a),r.append(s,i),o&&t.append(r),!0})(a.config)}})()},{"./api":1,"./audits":2,"./config":3,"./diffs":4,"./dom":5,"./domUtils":6,"./getters":7,"./graphs":8,"./templaters":10,"./users":11,"./utils":12}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ul=n.text=n.p=n.li=n.br=n.a=void 0;n.a=(e,t=e)=>{const r=document.createElement("a");return r.href=e,r.textContent=t,r.target="_blank",r.referrerPolicy="no-referrer",r};n.br=()=>document.createElement("br");n.li=e=>{const t=document.createElement("li");return"string"==typeof e?t.textContent=e:t.append(e),t};n.p=e=>{const t=document.createElement("p");return t.style.marginBottom="0",t.innerText=e,t};n.text=e=>document.createTextNode(e);n.ul=({header:e,items:t})=>{const r=document.createElement("ul"),{style:s}=r;if(s.listStyle="none",s.margin="0",e){const i=document.createElement("h3");i.classList.add("mb8"),i.textContent=e,r.append(i)}t=t.map(n.li);return r.append(...t),r}},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUserInfo=void 0;const i=e("./config");r.getUserInfo=async(e,t=i.DEF_SITE)=>{const r=new URL(`${i.API_BASE}/${i.API_VER}/users/${e}`);r.search=new URLSearchParams({site:t}).toString();const s=await fetch(r.toString());if(!s.ok)return null;var{items:[t]}=await s.json();return t}},{"./config":3}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.trimNumericString=r.toPercent=r.toApiDate=r.scase=r.safeMatch=r.last=r.handleMatchFailure=void 0;r.handleMatchFailure=(e,t)=>(console.debug(`Couldn't find the element with selector: ${e}`),t);r.last=e=>e[e.length-1];r.safeMatch=(e,t,r="")=>(e.match(t)||[e,r]).slice(1);r.scase=e=>e[0].toUpperCase()+e.slice(1).toLowerCase();r.toApiDate=e=>(e.valueOf()/1e3).toString();r.toPercent=e=>`${Math.trunc(100*e)}%`;r.trimNumericString=e=>e.replace(/\D/g,"")},{}]},{},[9]);